<main>
	<div class='wrapper'>
		
		<div class='messages-window'>
			<div class='message' each={messages}>
				<span>{key}</span>: {val}
			</div>
		</div>
	
		<div class='text-window'>
			<form onsubmit={send_message}>
				<input 
					autocomplete='off' 
					id='send-message' 
					placeholder='Say something..' 
					type='text'>
			</form>
		</div>

		<div class='login-modal' if={login}>
			<div class='modal-body'>
				<h3>Please login</h3>
				<div>
					<button onclick={login_anonymous}>Anonymous</button>
				</div>
				<div>
					<form onsubmit={login_email}>
						<input type='email' placeholder='Enter email' id='email'>
						<input type='password' placeholder='Enter password' id='password'>
						<div>
							<button type='submit'>Email/Password</button>
						</div>
					</form>
				</div>
			</div>
		</div>

	</div>



	<style>
		.modal-body {
			background-color: white;
			box-shadow: 2px 2px 9px rgba(0,0,0,.6);
			padding: 1rem;
		}

		.modal-body div {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			padding: .5rem;
		}

		.modal-body div form {
			flex-basis: 100%;
		}

		.modal-body div form div {
			padding: .5rem;
		}

		.modal-body button {
			background-color: #21ba45;
			cursor: pointer;
			color: white;
			font-family: sans-serif;
			font-size: 1rem;
			padding: .8rem 1.2rem;
		} 

		h3 {
			text-align: center;
		}

		.login-modal {
			background-color: rgba(0,0,0,.5);
			display: flex;
			align-items: center;
			justify-content: center;
			position: fixed;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
		}

		.wrapper {
			display: flex;
			flex-flow: column;
			height: 100vh;
			overflow: hidden;
			width: 100vw;
		}

		.messages-window {
			background-color: #0060DF;
			flex-grow: 1;
			overflow-y: auto;
			padding: 1rem;
		}

		.messages-window div {
			color: white;
			font-family: sans-serif;
		}

		.message {
			display: flex;
			align-items: center;
		}

		.message span {
	    color: yellow;
	    display: inline-block;
	    overflow-x: hidden;
	    text-overflow: ellipsis;
	    white-space: pre-wrap;
	    width: 200px;
		}

		.text-window {
			background-color: white;
		}

		form input {
			box-sizing:	border-box;
			font-size: 1.2rem;
			padding: 1rem;
			width: 100%;
		}

	</style>






	<script>

    const main = require('./main.tag.js');
    main.call(this, this.opts);
  </script>
</main>